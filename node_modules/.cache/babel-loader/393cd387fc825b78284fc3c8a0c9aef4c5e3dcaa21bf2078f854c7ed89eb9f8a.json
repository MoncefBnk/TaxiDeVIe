{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createStore } from 'vuex';\nimport router from '@/router';\nimport { createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from '@firebase/auth';\nimport { auth } from '@/firebase';\nexport default createStore({\n  state: {\n    user: null\n  },\n  getters: {},\n  mutations: {\n    SET_USER(state, user) {\n      state.user = user;\n    },\n    CLEAR_USER(state) {\n      state.user = null;\n    }\n  },\n  actions: {\n    async login({\n      commit\n    }, details) {\n      const {\n        email,\n        password\n      } = details;\n      try {\n        await signInWithEmailAndPassword(auth, email, password);\n      } catch (error) {\n        switch (error.code) {\n          case 'auth/user-not-found':\n            alert(\"User not found\");\n            break;\n          case 'auth/wrong-password':\n            alert(\"Wrong Password\");\n            break;\n          default:\n            alert(\"Somthing went wrong\");\n        }\n        return;\n      }\n      commit('SET_USER', auth.currentUser);\n      router.push('/');\n    },\n    async register({\n      commit\n    }, details) {\n      const {\n        email,\n        password\n      } = details;\n      try {\n        await createUserWithEmailAndPassword(auth, email, password);\n      } catch (error) {\n        switch (error.code) {\n          case 'auth/email-already-in-use':\n            alert(\"Email already in use\");\n            break;\n          case 'auth/invalid-email':\n            alert(\"Invalid email\");\n            break;\n          case 'auth/weak-password':\n            alert(\"Weak Password\");\n            break;\n          default:\n            alert(\"Somthing went wrong\");\n        }\n        return;\n      }\n      commit('SET_USER', auth.currentUser);\n      router.push('/');\n    },\n    async logout({\n      commit\n    }) {\n      await signOut(auth);\n      commit('CLEAR_USER');\n      router.push('/login');\n    },\n    fetchUser({\n      commit\n    }) {\n      auth.onAuthStateChanged(async user => {\n        if (user == null) {\n          commit('CLEAR_USER');\n        } else {\n          commit('SET_USER', user);\n          if (router.isReady() && router.current.value.path === '/login') {\n            router.push('/');\n          }\n        }\n      });\n    }\n  }\n});","map":{"version":3,"names":["createStore","router","createUserWithEmailAndPassword","signInWithEmailAndPassword","signOut","auth","state","user","getters","mutations","SET_USER","CLEAR_USER","actions","login","commit","details","email","password","error","code","alert","currentUser","push","register","logout","fetchUser","onAuthStateChanged","isReady","current","value","path"],"sources":["/Users/moncefbenkhalfallah/Desktop/taxi-de-vie/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex'\nimport router from '@/router'\nimport { \n  createUserWithEmailAndPassword, \n  signInWithEmailAndPassword, \n  signOut } from '@firebase/auth';\nimport { auth } from '@/firebase';\n\n\nexport default createStore({\n  state: {\n    user: null\n  },\n  getters: {\n  },\n  mutations: {\n    SET_USER (state, user){\n      state.user = user\n    },\n\n    CLEAR_USER (state){\n      state.user = null\n\n    }\n  },\n  actions: {\n    async login({commit}, details){\n      const {email, password} = details\n      try{\n        await signInWithEmailAndPassword(auth,email,password)\n      } catch (error) {\n        switch(error.code){\n          case 'auth/user-not-found' : \n            alert(\"User not found\")\n            break\n          case 'auth/wrong-password' : \n            alert(\"Wrong Password\")\n            break\n          default: \n            alert(\"Somthing went wrong\")\n        }\n\n        return \n      }\n      commit('SET_USER', auth.currentUser)\n      router.push('/')\n    },\n\n    async register({commit}, details){\n      const {email, password} = details\n      try{\n        await createUserWithEmailAndPassword(auth,email,password)\n      } catch (error) {\n        switch(error.code){\n          case 'auth/email-already-in-use' : \n            alert(\"Email already in use\")\n            break\n          case 'auth/invalid-email' : \n            alert(\"Invalid email\")\n            break\n          case 'auth/weak-password' :\n            alert(\"Weak Password\")\n            break\n          default: \n            alert(\"Somthing went wrong\")\n        }\n\n        return \n      }\n      commit('SET_USER', auth.currentUser)\n      router.push('/')\n    },\n\n    async logout({commit}){\n      await signOut(auth)\n\n      commit('CLEAR_USER')\n\n      router.push('/login')\n    },\n    fetchUser({commit}){\n      auth.onAuthStateChanged(async user => {\n        if (user == null){\n          commit('CLEAR_USER')\n        } else {\n          commit('SET_USER', user)\n\n          if (router.isReady() && router.current.value.path === '/login') {\n            router.push('/')\n          }\n        }\n      })\n    }\n  }\n\n})\n"],"mappings":";AAAA,SAASA,WAAW,QAAQ,MAAM;AAClC,OAAOC,MAAM,MAAM,UAAU;AAC7B,SACEC,8BAA8B,EAC9BC,0BAA0B,EAC1BC,OAAO,QAAQ,gBAAgB;AACjC,SAASC,IAAI,QAAQ,YAAY;AAGjC,eAAeL,WAAW,CAAC;EACzBM,KAAK,EAAE;IACLC,IAAI,EAAE;EACR,CAAC;EACDC,OAAO,EAAE,CACT,CAAC;EACDC,SAAS,EAAE;IACTC,QAAQA,CAAEJ,KAAK,EAAEC,IAAI,EAAC;MACpBD,KAAK,CAACC,IAAI,GAAGA,IAAI;IACnB,CAAC;IAEDI,UAAUA,CAAEL,KAAK,EAAC;MAChBA,KAAK,CAACC,IAAI,GAAG,IAAI;IAEnB;EACF,CAAC;EACDK,OAAO,EAAE;IACP,MAAMC,KAAKA,CAAC;MAACC;IAAM,CAAC,EAAEC,OAAO,EAAC;MAC5B,MAAM;QAACC,KAAK;QAAEC;MAAQ,CAAC,GAAGF,OAAO;MACjC,IAAG;QACD,MAAMZ,0BAA0B,CAACE,IAAI,EAACW,KAAK,EAACC,QAAQ,CAAC;MACvD,CAAC,CAAC,OAAOC,KAAK,EAAE;QACd,QAAOA,KAAK,CAACC,IAAI;UACf,KAAK,qBAAqB;YACxBC,KAAK,CAAC,gBAAgB,CAAC;YACvB;UACF,KAAK,qBAAqB;YACxBA,KAAK,CAAC,gBAAgB,CAAC;YACvB;UACF;YACEA,KAAK,CAAC,qBAAqB,CAAC;QAChC;QAEA;MACF;MACAN,MAAM,CAAC,UAAU,EAAET,IAAI,CAACgB,WAAW,CAAC;MACpCpB,MAAM,CAACqB,IAAI,CAAC,GAAG,CAAC;IAClB,CAAC;IAED,MAAMC,QAAQA,CAAC;MAACT;IAAM,CAAC,EAAEC,OAAO,EAAC;MAC/B,MAAM;QAACC,KAAK;QAAEC;MAAQ,CAAC,GAAGF,OAAO;MACjC,IAAG;QACD,MAAMb,8BAA8B,CAACG,IAAI,EAACW,KAAK,EAACC,QAAQ,CAAC;MAC3D,CAAC,CAAC,OAAOC,KAAK,EAAE;QACd,QAAOA,KAAK,CAACC,IAAI;UACf,KAAK,2BAA2B;YAC9BC,KAAK,CAAC,sBAAsB,CAAC;YAC7B;UACF,KAAK,oBAAoB;YACvBA,KAAK,CAAC,eAAe,CAAC;YACtB;UACF,KAAK,oBAAoB;YACvBA,KAAK,CAAC,eAAe,CAAC;YACtB;UACF;YACEA,KAAK,CAAC,qBAAqB,CAAC;QAChC;QAEA;MACF;MACAN,MAAM,CAAC,UAAU,EAAET,IAAI,CAACgB,WAAW,CAAC;MACpCpB,MAAM,CAACqB,IAAI,CAAC,GAAG,CAAC;IAClB,CAAC;IAED,MAAME,MAAMA,CAAC;MAACV;IAAM,CAAC,EAAC;MACpB,MAAMV,OAAO,CAACC,IAAI,CAAC;MAEnBS,MAAM,CAAC,YAAY,CAAC;MAEpBb,MAAM,CAACqB,IAAI,CAAC,QAAQ,CAAC;IACvB,CAAC;IACDG,SAASA,CAAC;MAACX;IAAM,CAAC,EAAC;MACjBT,IAAI,CAACqB,kBAAkB,CAAC,MAAMnB,IAAI,IAAI;QACpC,IAAIA,IAAI,IAAI,IAAI,EAAC;UACfO,MAAM,CAAC,YAAY,CAAC;QACtB,CAAC,MAAM;UACLA,MAAM,CAAC,UAAU,EAAEP,IAAI,CAAC;UAExB,IAAIN,MAAM,CAAC0B,OAAO,CAAC,CAAC,IAAI1B,MAAM,CAAC2B,OAAO,CAACC,KAAK,CAACC,IAAI,KAAK,QAAQ,EAAE;YAC9D7B,MAAM,CAACqB,IAAI,CAAC,GAAG,CAAC;UAClB;QACF;MACF,CAAC,CAAC;IACJ;EACF;AAEF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}