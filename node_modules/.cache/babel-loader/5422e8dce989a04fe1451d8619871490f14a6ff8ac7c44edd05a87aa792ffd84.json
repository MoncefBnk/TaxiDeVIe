{"ast":null,"code":"import _regeneratorRuntime from \"/Users/moncefbenkhalfallah/Desktop/TaxiDeVie/taxi-de-vie/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/moncefbenkhalfallah/Desktop/TaxiDeVie/taxi-de-vie/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport axios from 'axios';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nexport default {\n  data: function data() {\n    return {\n      clientData: {\n        name: '',\n        lastname: '',\n        mail_address: '',\n        phone: ''\n      },\n      currentUserUID: null\n    };\n  },\n  created: function created() {\n    this.fetchCurrentUserUID();\n  },\n  methods: {\n    fetchCurrentUserUID: function fetchCurrentUserUID() {\n      var _this = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              firebase.auth().onAuthStateChanged(function (user) {\n                if (user) {\n                  // User is signed in.\n                  _this.currentUserUID = user.uid;\n                } else {\n                  // No user is signed in.\n                  _this.currentUserUID = null;\n                }\n              });\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }))();\n    },\n    fetchClientData: function fetchClientData() {\n      var _this2 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return axios.get('https://localhost:7066/v1/api/Client/byNumberClient?numberClient=${this.currentUserUID}');\n            case 3:\n              response = _context2.sent;\n              _this2.clientData = response.data;\n              _context2.next = 10;\n              break;\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.error('Error fetching client data:', _context2.t0);\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, null, [[0, 7]]);\n      }))();\n    }\n  },\n  mounted: function mounted() {\n    // Fetch client data when the component is mounted\n    this.fetchClientData();\n  }\n};","map":{"version":3,"names":["axios","firebase","data","clientData","name","lastname","mail_address","phone","currentUserUID","created","fetchCurrentUserUID","methods","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","auth","onAuthStateChanged","user","uid","stop","fetchClientData","_this2","_callee2","response","_callee2$","_context2","get","sent","t0","console","error","mounted"],"sources":["/Users/moncefbenkhalfallah/Desktop/TaxiDeVie/taxi-de-vie/src/components/Customer/ProfileCustomer.vue"],"sourcesContent":["<template>\n  <main class=\"profile\">\n    <section class=\"forms\">\n      <form class=\"profile\" @submit.prevent=\"fetchClientData\">\n        <h2>Profile</h2>\n        \n        <input v-model=\"clientData.name\" type=\"text\" placeholder=\"Prénom\" />\n        <input v-model=\"clientData.lastname\" type=\"text\" placeholder=\"Nom\"  />\n        <input v-model=\"clientData.mail_address\" type=\"email\" placeholder=\"Adresse e-mail\" />\n        <input v-model=\"clientData.phone\" type=\"tel\" placeholder=\"Numéro de téléphone\"  />\n        <input type=\"submit\" value=\"Se connecter\" />\n      </form>\n    </section>\n  </main>\n</template>\n\n<script>\nimport axios from 'axios';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\n\nexport default {\n  data() {\n    return {\n      clientData: {\n        name: '',\n        lastname: '',\n        mail_address: '',\n        phone: ''\n      },\n      currentUserUID: null,\n    };\n  },\n  created() {\n    this.fetchCurrentUserUID();\n  },\n  methods: {\n    async fetchCurrentUserUID() {\n      firebase.auth().onAuthStateChanged(user => {\n        if (user) {\n          // User is signed in.\n          this.currentUserUID = user.uid;\n        } else {\n          // No user is signed in.\n          this.currentUserUID = null;\n        }\n      });\n    },\n    async fetchClientData() {\n      try {\n        const response = await axios.get('https://localhost:7066/v1/api/Client/byNumberClient?numberClient=${this.currentUserUID}');\n        this.clientData = response.data;\n      } catch (error) {\n        console.error('Error fetching client data:', error);\n      }\n    }\n  },\n  mounted() {\n    // Fetch client data when the component is mounted\n    this.fetchClientData();\n  }\n};\n</script>\n<style>\n.forms {\n\tdisplay: flex;\n\tmin-height: 100vh;\n}\n\nform {\n\tflex: 1 1 0%;\n\tpadding: 8rem 1rem 1rem;\n}\n\nh2 {\n\tfont-size: 2rem;\n\ttext-transform: uppercase;\n\tmargin-bottom: 2rem;\n}\n\ninput {\n\tappearance: none;\n\tborder: none;\n\toutline: none;\n\tbackground: none;\n\n\tdisplay: block;\n\twidth: 100%;\n\tmax-width: 400px;\n\tmargin: 0 auto;\n\tfont-size: 1.5rem;\n\tmargin-bottom: 2rem;\n\tpadding: 0.5rem 0rem;\n}\n\ninput:not([type=\"submit\"]) {\n\topacity: 0.8;\n\ttransition: 0.4s;\n}\n\ninput:focus:not([type=\"submit\"]) {\n\topacity: 1;\n}\n\ninput::placeholder {\n\tcolor: inherit;\n}\n\n\nform.profile input:not([type=\"submit\"]) {\n\tcolor: #2c3e50;\n\tborder-bottom: 2px solid #2c3e50;\n}\n\nform.profile input[type=\"submit\"] {\n\tbackground-color: rgb(245, 66, 101);\n\tcolor: #FFF;\n\tfont-weight: 700;\n\tpadding: 1rem 2rem;\n\tborder-radius: 0.5rem;\n\tcursor: pointer;\n\ttext-transform: uppercase;\n}\n\n.links {\n\tcolor: #3498db; \n\ttext-decoration: underline;\n\tcursor: pointer;\n\tmargin-bottom: 2rem;\n\tdisplay: block; \n  }\n</style>"],"mappings":";;AAiBA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,QAAO,MAAO,cAAc;AACnC,OAAO,eAAe;AAEtB,eAAe;EACbC,IAAI,WAAAA,KAAA,EAAG;IACL,OAAO;MACLC,UAAU,EAAE;QACVC,IAAI,EAAE,EAAE;QACRC,QAAQ,EAAE,EAAE;QACZC,YAAY,EAAE,EAAE;QAChBC,KAAK,EAAE;MACT,CAAC;MACDC,cAAc,EAAE;IAClB,CAAC;EACH,CAAC;EACDC,OAAO,WAAAA,QAAA,EAAG;IACR,IAAI,CAACC,mBAAmB,CAAC,CAAC;EAC5B,CAAC;EACDC,OAAO,EAAE;IACDD,mBAAmB,WAAAA,oBAAA,EAAG;MAAA,IAAAE,KAAA;MAAA,OAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,OAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAC1BpB,QAAQ,CAACqB,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC,UAAAC,IAAG,EAAK;gBACzC,IAAIA,IAAI,EAAE;kBACR;kBACAZ,KAAI,CAACJ,cAAa,GAAIgB,IAAI,CAACC,GAAG;gBAChC,OAAO;kBACL;kBACAb,KAAI,CAACJ,cAAa,GAAI,IAAI;gBAC5B;cACF,CAAC,CAAC;YAAA;YAAA;cAAA,OAAAW,QAAA,CAAAO,IAAA;UAAA;QAAA,GAAAV,OAAA;MAAA;IACJ,CAAC;IACKW,eAAe,WAAAA,gBAAA,EAAG;MAAA,IAAAC,MAAA;MAAA,OAAAf,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAc,SAAA;QAAA,IAAAC,QAAA;QAAA,OAAAhB,mBAAA,GAAAG,IAAA,UAAAc,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAAZ,IAAA,GAAAY,SAAA,CAAAX,IAAA;YAAA;cAAAW,SAAA,CAAAZ,IAAA;cAAAY,SAAA,CAAAX,IAAA;cAAA,OAEGrB,KAAK,CAACiC,GAAG,CAAC,yFAAyF,CAAC;YAAA;cAArHH,QAAO,GAAAE,SAAA,CAAAE,IAAA;cACbN,MAAI,CAACzB,UAAS,GAAI2B,QAAQ,CAAC5B,IAAI;cAAA8B,SAAA,CAAAX,IAAA;cAAA;YAAA;cAAAW,SAAA,CAAAZ,IAAA;cAAAY,SAAA,CAAAG,EAAA,GAAAH,SAAA;cAE/BI,OAAO,CAACC,KAAK,CAAC,6BAA6B,EAAAL,SAAA,CAAAG,EAAO,CAAC;YAAA;YAAA;cAAA,OAAAH,SAAA,CAAAN,IAAA;UAAA;QAAA,GAAAG,QAAA;MAAA;IAEvD;EACF,CAAC;EACDS,OAAO,WAAAA,QAAA,EAAG;IACR;IACA,IAAI,CAACX,eAAe,CAAC,CAAC;EACxB;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}